import{j as e}from"./query-mha2o62p-N18zC10c.js";import{r as c,d as D}from"./vendor-mha2o62p-CaRZ0yde.js";import{C as F,B as E,aB as p,aC as j,Z as I,ae as y,ad as C,W as S,X as R,Y as k,a as q,H as T,i as U,A as _,b as v}from"./index-mha2o62p-BkfuSsc3.js";import{S as O,C as G,P as V,R as z}from"./ShareResultsButton-mha2o62p-C8Ej7AB6.js";import{E as w}from"./external-link-button-mha2o62p-BqMIYDAh.js";import{ah as P,a_ as M,bf as L,c0 as Q,b0 as N,a9 as Y,w as H,ao as J}from"./ui-mha2o62p-Mk2_6fBQ.js";import{a as $}from"./toolsData-mha2o62p-C-Rx3aUr.js";import{r as W}from"./rv-technology-planning-mha2o62p-6VqapAdm.js";import{D as X,a as Z,b as K,c as ee,d as se}from"./dialog-mha2o62p-DmEOGQr9.js";import"./mapbox-mha2o62p-CTDsIqYr.js";import"./ai-technology-research-checklist-hero-mha2o62p-COLgpRRg.js";const te=({toolAccess:s,onShowOptIn:m})=>{const[i,d]=c.useState(""),[l,x]=c.useState(!1),[a,g]=c.useState(null),[t,r]=c.useState(""),n=c.useRef(null),b=async()=>{if(i.trim()){if(!s.canMakeQuery()){m();return}x(!0),r(""),g(null);try{await s.trackToolUsage("readiness-assessment","AI Technology Readiness Assessment");const{data:o,error:u}=await y.functions.invoke("ai-technology-readiness",{body:{userDescription:i.trim()}});if(u)throw u;g(o.assessment),s.incrementQueryCount()}catch(o){console.error("AI Assessment error:",o),r("Assessment is temporarily unavailable. Please try again later or consult with RV technology professionals.")}finally{x(!1)}}},h=()=>{d(""),g(null),r(""),n.current&&n.current.scrollIntoView({behavior:"smooth",block:"start"})};return a?e.jsxs(F,{ref:n,className:"p-8 bg-gradient-to-br from-[#091020] to-[#131a2a] border-[#1a202c] text-white",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#5B9BD5] to-[#60A5FA] rounded-full mb-4",children:e.jsx(P,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:a.title.replace(/-/g," ")}),e.jsx("p",{className:"text-[#E2E8FF] text-lg leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-semibold text-[#60A5FA] mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Recommended Technology Features"]}),e.jsx("div",{className:"grid gap-3",children:a.recommendedFeatures.map((o,u)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#151A22]/50 rounded-lg border border-[#1a202c]",children:[e.jsx(L,{className:"h-5 w-5 text-[#5B9BD5] flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[#E2E8FF]",children:o.replace(/-/g," ")})]},u))})]}),e.jsxs("div",{className:"p-4 bg-[#151A22]/50 rounded-lg border border-[#1a202c]",children:[e.jsx("h4",{className:"text-lg font-semibold text-[#60A5FA] mb-2",children:"Budget Guidance"}),e.jsx("p",{className:"text-[#E2E8FF]",children:a.budgetGuidance.replace(/-/g," ")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-[#60A5FA] mb-3",children:"Next Steps"}),e.jsx("ul",{className:"space-y-2",children:a.nextSteps.map((o,u)=>e.jsxs("li",{className:"flex items-start gap-2 text-[#E2E8FF]",children:[e.jsx("span",{className:"text-[#5B9BD5] flex-shrink-0",children:"â€¢"}),o]},u))})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(O,{title:a.title,summary:`${a.description}

Recommended Features:
${a.recommendedFeatures.join(`
`)}

Budget Guidance: ${a.budgetGuidance}

Next Steps:
${a.nextSteps.join(`
`)}`})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(w,{href:a.searchUrls.buyUrl,variant:"default",size:"lg",className:"bg-gradient-to-r from-[#5B9BD5] to-[#60A5FA] hover:from-[#4B8FE3] hover:to-[#5B9BD5]",children:"Browse Matching RVs"}),e.jsx(w,{href:a.searchUrls.reviewsUrl,variant:"outline",size:"lg",className:"border-[#5B9BD5]/50 text-[#5B9BD5] hover:bg-[#5B9BD5]/10",children:"Read Reviews"}),e.jsx(w,{href:a.searchUrls.dealersUrl,variant:"outline",size:"lg",className:"border-[#5B9BD5]/50 text-[#5B9BD5] hover:bg-[#5B9BD5]/10",children:"Find Dealers"}),e.jsxs(E,{onClick:h,variant:"outline",size:"lg",className:"border-[#1a202c] text-[#E2E8FF] hover:bg-[#151A22] hover:text-[#E2E8FF]",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"New Assessment"]})]}),e.jsx(G,{currentToolId:"readiness-assessment"})]}):e.jsxs(F,{ref:n,className:"p-8 bg-gradient-to-br from-[#091020] to-[#131a2a] border-[#1a202c] text-white",children:[e.jsxs(p,{className:"mb-6 border-[#5B9BD5]/30 bg-[#5B9BD5]/10",children:[e.jsx(N,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsx(j,{className:"text-[#E2E8FF]",children:"This AI assessment provides educational guidance about RV technology categories based on your comfort level and needs."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-3",children:"Describe your tech experience and what you hope to achieve with your RV:"}),e.jsx(I,{value:i,onChange:o=>d(o.target.value),placeholder:"Example: I'm comfortable with smartphones and home automation. I want my RV to have reliable internet for remote work and simple monitoring of systems. I prefer technology that's reliable but not overly complex...",className:"min-h-32 bg-[#151A22] border-[#1a202c] text-white placeholder-[#E2E8FF]/50",disabled:l})]}),l&&e.jsx("div",{className:"my-6",children:e.jsx(V,{stage:"analyzing",customMessage:"Assessing your technology readiness..."})}),!l&&e.jsxs(E,{onClick:b,disabled:!i.trim(),className:"w-full bg-gradient-to-r from-[#5B9BD5] to-[#60A5FA] hover:from-[#4B8FE3] hover:to-[#5B9BD5] text-lg py-6",children:[e.jsx(Y,{className:"mr-2 h-5 w-5"}),"Get My AI Technology Assessment"]}),t&&e.jsxs(p,{className:"border-red-500 bg-red-500/10",children:[e.jsx(N,{className:"h-4 w-4 text-red-500"}),e.jsx(j,{className:"text-red-200",children:t})]})]})]})},A="tool_access_data",f=3,ae=()=>{const[s,m]=c.useState(()=>{const t=localStorage.getItem(A);if(t)try{const r=JSON.parse(t);return{queriesUsed:r.queriesUsed||0,queriesRemaining:f-(r.queriesUsed||0),hasAccess:r.hasAccess||!1,userEmail:r.userEmail||null,firstName:r.firstName||null}}catch{return{queriesUsed:0,queriesRemaining:f,hasAccess:!1,userEmail:null,firstName:null}}return{queriesUsed:0,queriesRemaining:f,hasAccess:!1,userEmail:null,firstName:null}});c.useEffect(()=>{(async()=>{const r=localStorage.getItem(A);if(r&&JSON.parse(r).hasAccess)return;const n=s.userEmail;if(n){const{data:b}=await y.from("newsletter_subscribers").select("email, first_name").eq("email",n).maybeSingle();b&&l(b.email,b.first_name||"")}})()},[]);const i=t=>{localStorage.setItem(A,JSON.stringify(t)),m(t)},d=()=>{const t=s.queriesUsed+1;i({...s,queriesUsed:t,queriesRemaining:f-t})},l=(t,r)=>{i({queriesUsed:0,queriesRemaining:f,hasAccess:!0,userEmail:t,firstName:r})},x=()=>s.hasAccess||s.queriesUsed<f,a=()=>!s.hasAccess&&s.queriesUsed>=f,g=async(t,r)=>{try{await y.from("tool_usage_metrics").insert({user_email:s.userEmail,tool_id:t,tool_name:r,query_count:1})}catch(n){console.error("Failed to track tool usage:",n)}};return{queriesUsed:s.queriesUsed,queriesRemaining:s.queriesRemaining,hasAccess:s.hasAccess,userEmail:s.userEmail,firstName:s.firstName,incrementQueryCount:d,grantAccess:l,canMakeQuery:x,shouldShowOptIn:a,trackToolUsage:g}},re=({queriesUsed:s,queriesRemaining:m,hasAccess:i})=>i?e.jsxs(p,{className:"bg-[#1a202c] border-[#5B9BD5] mb-6",children:[e.jsx(H,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-[#5B9BD5]",children:"Unlimited Access Active"})," - Ask as many questions as you need!"]})]}):m===0?e.jsxs(p,{className:"bg-[#1a202c] border-yellow-500 mb-6",children:[e.jsx(N,{className:"h-4 w-4 text-yellow-500"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-yellow-500",children:"You've used all 3 free queries"})," - Sign up to continue!"]})]}):m===1?e.jsxs(p,{className:"bg-[#1a202c] border-yellow-500 mb-6",children:[e.jsx(N,{className:"h-4 w-4 text-yellow-500"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-yellow-500",children:"1 free query remaining"})," - Sign up to continue using our AI tools!"]})]}):e.jsxs(p,{className:"bg-[#1a202c] border-[#5B9BD5] mb-6",children:[e.jsx(N,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsxs("span",{className:"font-semibold text-[#5B9BD5]",children:[m," of 3 free queries remaining"]})," - Try our AI tools risk-free!"]})]}),ie=({isOpen:s,onOptIn:m})=>{const[i,d]=c.useState(""),[l,x]=c.useState(""),[a,g]=c.useState(!1),[t,r]=c.useState(!1),{toast:n}=C(),b=async h=>{if(h.preventDefault(),!i.trim()||!l.trim()){n({title:"Missing information",description:"Please provide your first name and email.",variant:"destructive"});return}if(!a){n({title:"Privacy policy",description:"Please agree to the privacy policy to continue.",variant:"destructive"});return}r(!0);try{const{data:o}=await y.from("newsletter_subscribers").select("email").eq("email",l.toLowerCase().trim()).maybeSingle();if(!o){const{error:u}=await y.from("newsletter_subscribers").insert({email:l.toLowerCase().trim(),first_name:i.trim()});if(u)throw u;const{error:B}=await y.functions.invoke("send-welcome-email",{body:{firstName:i.trim(),email:l.toLowerCase().trim()}});B&&console.error("Failed to send welcome email:",B)}m(l.toLowerCase().trim(),i.trim()),n({title:"Welcome aboard! ðŸŽ‰",description:"You now have unlimited access to all our AI tools. Check your email for a welcome message!"}),d(""),x(""),g(!1)}catch(o){console.error("Opt-in error:",o),n({title:"Something went wrong",description:"Please try again or contact support if the issue persists.",variant:"destructive"})}finally{r(!1)}};return e.jsx(X,{open:s,onOpenChange:()=>{},children:e.jsxs(Z,{className:"sm:max-w-[500px] bg-[#151A22] border-[#1a202c]",children:[e.jsxs(K,{children:[e.jsx(ee,{className:"text-2xl text-white",children:"Get Unlimited Access ðŸš€"}),e.jsx(se,{className:"text-[#E2E8FF]",children:"You've used your 3 free queries. Sign up now to continue using all our AI-powered RV technology tools with no limits!"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"firstName",className:"text-white",children:"First Name"}),e.jsx(R,{id:"firstName",type:"text",placeholder:"John",value:i,onChange:h=>d(h.target.value),className:"bg-[#131a2a] border-[#1a202c] text-white",disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",className:"text-white",children:"Email"}),e.jsx(R,{id:"email",type:"email",placeholder:"john@example.com",value:l,onChange:h=>x(h.target.value),className:"bg-[#131a2a] border-[#1a202c] text-white",disabled:t})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(k,{id:"privacy",checked:a,onCheckedChange:h=>g(h),disabled:t,className:"mt-1"}),e.jsx("label",{htmlFor:"privacy",className:"text-sm text-[#E2E8FF] leading-relaxed cursor-pointer",children:"I agree to receive helpful RV technology tips and updates. You can unsubscribe anytime."})]}),e.jsx(E,{type:"submit",className:"w-full bg-[#5B9BD5] hover:bg-[#4B8FE3] text-white",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"mr-2 h-4 w-4 animate-spin"}),"Getting your access..."]}):"Get Unlimited Access"}),e.jsx("p",{className:"text-xs text-center text-[#898989]",children:"ðŸ”’ Your information is safe and will never be shared"})]})]})})},fe=()=>{q();const s=ae(),[m,i]=D.useState(!1);c.useEffect(()=>{window.scrollTo(0,0)},[]);const d=(l,x)=>{s.grantAccess(l,x),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx("title",{children:"AI Technology Readiness Assessment | RV Connectivity Tools"}),e.jsx("meta",{name:"description",content:"Get personalized RV technology recommendations based on your experience level and travel goals. Free AI-powered assessment tool."})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#080F1F] to-[#151A22] pt-24 pb-16",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(U,{items:[{label:"Tools",href:"/tools"},{label:"Readiness Assessment"}]})}),e.jsxs("div",{className:"relative w-full my-12",children:[e.jsx("img",{src:W,alt:"AI Technology Readiness Assessment",className:"w-full h-auto"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/60 to-black/80 z-10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:e.jsxs("div",{className:"text-center max-w-5xl px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 image-overlay-headline",children:"AI Technology Readiness Assessment"}),e.jsx("p",{className:"text-lg md:text-xl text-white/80 max-w-4xl mx-auto image-overlay-headline",children:"Get personalized technology recommendations based on your experience and goals"})]})})]}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(re,{queriesUsed:s.queriesUsed,queriesRemaining:s.queriesRemaining,hasAccess:s.hasAccess})}),e.jsx(te,{toolAccess:s,onShowOptIn:()=>i(!0)}),e.jsx("div",{className:"max-w-6xl mx-auto mt-8",children:e.jsx(_,{})}),e.jsx("div",{className:"max-w-6xl mx-auto mt-12",children:e.jsx(z,{tools:$,currentToolId:"readiness-assessment"})}),e.jsx("div",{className:"max-w-6xl mx-auto mt-12",children:e.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Learn About Smart RV Features"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Discover what makes an RV truly smart"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(v,{to:"/features",className:"bg-gray-700/50 hover:bg-gray-700 border border-gray-600 hover:border-blue-500 rounded-lg p-4 transition-all",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Smart Features Hub"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Explore all available smart systems"})]}),e.jsxs(v,{to:"/features/internet-connectivity",className:"bg-gray-700/50 hover:bg-gray-700 border border-gray-600 hover:border-cyan-500 rounded-lg p-4 transition-all",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Connectivity"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Stay connected anywhere"})]}),e.jsxs(v,{to:"/features/security-system",className:"bg-gray-700/50 hover:bg-gray-700 border border-gray-600 hover:border-red-500 rounded-lg p-4 transition-all",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Security Systems"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Protect your investment"})]})]})]})})]})]}),e.jsx(ie,{isOpen:m,onOptIn:d})]})};export{fe as default};
