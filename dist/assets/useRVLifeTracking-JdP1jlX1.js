import{j as n}from"./query-DgI8Fk8U.js";import{r as a}from"./vendor-CaRZ0yde.js";import{B as V,S as b}from"./index-DYDVLK3v.js";import{T as j,a as S,b as U,c as y}from"./tooltip-BPJURuVJ.js";import{c as _,g as D,t as T,d as o}from"./TrustSignals-Bk9gj2LL.js";import{aa as N}from"./ui-D2SbLSSm.js";const B=({campaign:l,buttonText:e="Try RV Life Pro",variant:u="default",className:d,trackingLabel:f,showDiscountTooltip:m=!0,size:p="default",showIcon:h=!0,onClick:c})=>{const[g,k]=a.useState(!1),v=_(l),x=D(),E=L=>{T(f||`${l}-link`,window.location.pathname),c&&c()},w=n.jsx(V,{variant:u,size:p,className:b("relative group",d),onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),asChild:!0,children:n.jsxs("a",{href:v,target:"_blank",rel:"noopener noreferrer sponsored",onClick:E,className:"flex items-center gap-2",children:[n.jsx("span",{children:e}),h&&n.jsx(N,{className:b("h-4 w-4 transition-transform",g&&"translate-x-0.5 -translate-y-0.5")})]})});return m?n.jsx(j,{children:n.jsxs(S,{children:[n.jsx(U,{asChild:!0,children:w}),n.jsx(y,{className:"bg-gray-900 text-white p-3 max-w-xs",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:"Use code at checkout:"}),n.jsx("p",{className:"text-lg font-bold text-green-400",children:x}),n.jsx("p",{className:"text-xs text-gray-300",children:"Save 20% on annual plan"})]})})]})}):w};function O(l){const{pageName:e,trackScrollDepth:u=!0,trackTimeOnPage:d=!0,scrollThresholds:f=[25,50,75,90,100],trackPageView:m=!0}=l,p=a.useRef(new Set),h=a.useRef(Date.now()),c=a.useRef(Date.now()),g=a.useRef(!0);a.useEffect(()=>{m&&o.trackPageView(`RV Life Pro - ${e}`,window.location.pathname,window.location.href)},[e,m]),a.useEffect(()=>{if(!u)return;const t=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,R=(window.scrollY+r)/s*100;f.forEach(i=>{R>=i&&!p.current.has(i)&&(p.current.add(i),o.trackUserEngagement("scroll_depth",i,{page:e,product:"RV Life Pro",threshold:`${i}%`}))}),c.current=Date.now()};return window.addEventListener("scroll",t,{passive:!0}),()=>window.removeEventListener("scroll",t)},[u,f,e]),a.useEffect(()=>{if(!d)return;const t=()=>{if(!g.current)return;const C=Math.floor((Date.now()-h.current)/1e3);Math.floor((Date.now()-c.current)/1e3)<30&&o.trackUserEngagement("time_on_page",C,{page:e,product:"RV Life Pro",timeSpent:`${C}s`})},r=setInterval(t,3e4),s=()=>{t(),g.current=!1};return window.addEventListener("beforeunload",s),()=>{clearInterval(r),window.removeEventListener("beforeunload",s),t()}},[d,e]);const k=a.useCallback((t,r)=>{T(t,`${e}-${r}`),o.trackUserEngagement("cta_click",void 0,{page:e,product:"RV Life Pro",ctaName:t,location:r})},[e]),v=a.useCallback((t,r)=>{o.trackUserEngagement("video_play",void 0,{page:e,product:"RV Life Pro",videoId:t,videoTitle:r})},[e]),x=a.useCallback((t,r,s)=>{o.trackUserEngagement("video_complete",s,{page:e,product:"RV Life Pro",videoId:t,videoTitle:r,watchTime:`${s}s`})},[e]),E=a.useCallback((t,r,s)=>{o.trackUserEngagement("form_interaction",void 0,{page:e,product:"RV Life Pro",formName:t,fieldName:r,action:s})},[e]),w=a.useCallback((t,r)=>{o.trackUserEngagement("form_submit",r?1:0,{page:e,product:"RV Life Pro",formName:t,success:r}),r&&o.trackConversion("lead_generation",void 0,"USD")},[e]),L=a.useCallback((t,r)=>{o.trackUserEngagement(t,void 0,{page:e,product:"RV Life Pro",...r})},[e]),P=a.useCallback((t,r)=>{o.trackFeatureUsage(t,{page:e,product:"RV Life Pro",action:r})},[e]);return{trackCTAClick:k,trackVideoPlay:v,trackVideoComplete:x,trackFormInteraction:E,trackFormSubmit:w,trackCustomEvent:L,trackFeatureClick:P}}export{B as R,O as u};
