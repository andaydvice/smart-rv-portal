import{j as e}from"./query-DgI8Fk8U.js";import{r as o,d as O}from"./vendor-CaRZ0yde.js";import{C as F,B as E,aA as b,aB as j,Y as P,ae as N,R as w,ad as G,U as R,W as S,X as M,a as V,H as L,i as Q,j as Y,A as $}from"./index--kJ2m5iY.js";import{B as H,a as J}from"./toolsData-D9kJMgJN.js";import{S as X,C as Z,P as W,R as K}from"./ShareResultsButton-JmTh20QA.js";import{E as v}from"./external-link-button-B2VC74ZY.js";import{ah as ee,aX as se,bc as ae,bZ as te,aZ as y,a9 as re,w as ie,b_ as D,b$ as I,c0 as le,X as oe,c1 as k,c2 as C,c3 as ne,c4 as ce,ao as de}from"./ui-D9eRGAN1.js";import{r as me}from"./rv-technology-planning-Eg1Z7xS8.js";import"./mapbox-X6c54b3e.js";import"./ai-technology-research-checklist-hero-Xxy6MthR.js";const ue=({toolAccess:s,onShowOptIn:r})=>{const[a,m]=o.useState(""),[n,u]=o.useState(!1),[i,g]=o.useState(null),[t,l]=o.useState(""),c=o.useRef(null),f=async()=>{if(a.trim()){if(!s.canMakeQuery()){r();return}u(!0),l(""),g(null);try{await s.trackToolUsage("readiness-assessment","AI Technology Readiness Assessment");const{data:d,error:h}=await N.functions.invoke("ai-technology-readiness",{body:{userDescription:a.trim()}});if(h)throw h;g(d.assessment),s.incrementQueryCount()}catch(d){console.error("AI Assessment error:",d),l("Assessment is temporarily unavailable. Please try again later or consult with RV technology professionals.")}finally{u(!1)}}},x=()=>{m(""),g(null),l(""),c.current&&c.current.scrollIntoView({behavior:"smooth",block:"start"})};return i?e.jsxs(F,{ref:c,className:"p-8 bg-gradient-to-br from-[#091020] to-[#131a2a] border-[#1a202c] text-white",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#5B9BD5] to-[#60A5FA] rounded-full mb-4",children:e.jsx(ee,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:i.title.replace(/-/g," ")}),e.jsx("p",{className:"text-[#E2E8FF] text-lg leading-relaxed",children:i.description})]}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-semibold text-[#60A5FA] mb-4 flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Recommended Technology Features"]}),e.jsx("div",{className:"grid gap-3",children:i.recommendedFeatures.map((d,h)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#151A22]/50 rounded-lg border border-[#1a202c]",children:[e.jsx(ae,{className:"h-5 w-5 text-[#5B9BD5] flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[#E2E8FF]",children:d.replace(/-/g," ")})]},h))})]}),e.jsxs("div",{className:"p-4 bg-[#151A22]/50 rounded-lg border border-[#1a202c]",children:[e.jsx("h4",{className:"text-lg font-semibold text-[#60A5FA] mb-2",children:"Budget Guidance"}),e.jsx("p",{className:"text-[#E2E8FF]",children:i.budgetGuidance.replace(/-/g," ")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-[#60A5FA] mb-3",children:"Next Steps"}),e.jsx("ul",{className:"space-y-2",children:i.nextSteps.map((d,h)=>e.jsxs("li",{className:"flex items-start gap-2 text-[#E2E8FF]",children:[e.jsx("span",{className:"text-[#5B9BD5] flex-shrink-0",children:"â€¢"}),d]},h))})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(X,{title:i.title,summary:`${i.description}

Recommended Features:
${i.recommendedFeatures.join(`
`)}

Budget Guidance: ${i.budgetGuidance}

Next Steps:
${i.nextSteps.join(`
`)}`})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(v,{href:i.searchUrls.buyUrl,variant:"default",size:"lg",className:"bg-gradient-to-r from-[#5B9BD5] to-[#60A5FA] hover:from-[#4B8FE3] hover:to-[#5B9BD5]",children:"Browse Matching RVs"}),e.jsx(v,{href:i.searchUrls.reviewsUrl,variant:"outline",size:"lg",className:"border-[#5B9BD5]/50 text-[#5B9BD5] hover:bg-[#5B9BD5]/10",children:"Read Reviews"}),e.jsx(v,{href:i.searchUrls.dealersUrl,variant:"outline",size:"lg",className:"border-[#5B9BD5]/50 text-[#5B9BD5] hover:bg-[#5B9BD5]/10",children:"Find Dealers"}),e.jsxs(E,{onClick:x,variant:"outline",size:"lg",className:"border-[#1a202c] text-[#E2E8FF] hover:bg-[#151A22] hover:text-[#E2E8FF]",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"New Assessment"]})]}),e.jsx(Z,{currentToolId:"readiness-assessment"})]}):e.jsxs(F,{ref:c,className:"p-8 bg-gradient-to-br from-[#091020] to-[#131a2a] border-[#1a202c] text-white",children:[e.jsxs(b,{className:"mb-6 border-[#5B9BD5]/30 bg-[#5B9BD5]/10",children:[e.jsx(y,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsx(j,{className:"text-[#E2E8FF]",children:"This AI assessment provides educational guidance about RV technology categories based on your comfort level and needs."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-3",children:"Describe your tech experience and what you hope to achieve with your RV:"}),e.jsx(P,{value:a,onChange:d=>m(d.target.value),placeholder:"Example: I'm comfortable with smartphones and home automation. I want my RV to have reliable internet for remote work and simple monitoring of systems. I prefer technology that's reliable but not overly complex...",className:"min-h-32 bg-[#151A22] border-[#1a202c] text-white placeholder-[#E2E8FF]/50",disabled:n})]}),n&&e.jsx("div",{className:"my-6",children:e.jsx(W,{stage:"analyzing",customMessage:"Assessing your technology readiness..."})}),!n&&e.jsxs(E,{onClick:f,disabled:!a.trim(),className:"w-full bg-gradient-to-r from-[#5B9BD5] to-[#60A5FA] hover:from-[#4B8FE3] hover:to-[#5B9BD5] text-lg py-6",children:[e.jsx(re,{className:"mr-2 h-5 w-5"}),"Get My AI Technology Assessment"]}),t&&e.jsxs(b,{className:"border-red-500 bg-red-500/10",children:[e.jsx(y,{className:"h-4 w-4 text-red-500"}),e.jsx(j,{className:"text-red-200",children:t})]})]})]})},A="tool_access_data",p=3,xe=()=>{const[s,r]=o.useState(()=>{const t=localStorage.getItem(A);if(t)try{const l=JSON.parse(t);return{queriesUsed:l.queriesUsed||0,queriesRemaining:p-(l.queriesUsed||0),hasAccess:l.hasAccess||!1,userEmail:l.userEmail||null,firstName:l.firstName||null}}catch{return{queriesUsed:0,queriesRemaining:p,hasAccess:!1,userEmail:null,firstName:null}}return{queriesUsed:0,queriesRemaining:p,hasAccess:!1,userEmail:null,firstName:null}});o.useEffect(()=>{(async()=>{const l=localStorage.getItem(A);if(l&&JSON.parse(l).hasAccess)return;const c=s.userEmail;if(c){const{data:f}=await N.from("newsletter_subscribers").select("email, first_name").eq("email",c).maybeSingle();f&&n(f.email,f.first_name||"")}})()},[]);const a=t=>{localStorage.setItem(A,JSON.stringify(t)),r(t)},m=()=>{const t=s.queriesUsed+1;a({...s,queriesUsed:t,queriesRemaining:p-t})},n=(t,l)=>{a({queriesUsed:0,queriesRemaining:p,hasAccess:!0,userEmail:t,firstName:l})},u=()=>s.hasAccess||s.queriesUsed<p,i=()=>!s.hasAccess&&s.queriesUsed>=p,g=async(t,l)=>{try{await N.from("tool_usage_metrics").insert({user_email:s.userEmail,tool_id:t,tool_name:l,query_count:1})}catch(c){console.error("Failed to track tool usage:",c)}};return{queriesUsed:s.queriesUsed,queriesRemaining:s.queriesRemaining,hasAccess:s.hasAccess,userEmail:s.userEmail,firstName:s.firstName,incrementQueryCount:m,grantAccess:n,canMakeQuery:u,shouldShowOptIn:i,trackToolUsage:g}},he=({queriesUsed:s,queriesRemaining:r,hasAccess:a})=>a?e.jsxs(b,{className:"bg-[#1a202c] border-[#5B9BD5] mb-6",children:[e.jsx(ie,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-[#5B9BD5]",children:"Unlimited Access Active"})," - Ask as many questions as you need!"]})]}):r===0?e.jsxs(b,{className:"bg-[#1a202c] border-yellow-500 mb-6",children:[e.jsx(y,{className:"h-4 w-4 text-yellow-500"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-yellow-500",children:"You've used all 3 free queries"})," - Sign up to continue!"]})]}):r===1?e.jsxs(b,{className:"bg-[#1a202c] border-yellow-500 mb-6",children:[e.jsx(y,{className:"h-4 w-4 text-yellow-500"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsx("span",{className:"font-semibold text-yellow-500",children:"1 free query remaining"})," - Sign up to continue using our AI tools!"]})]}):e.jsxs(b,{className:"bg-[#1a202c] border-[#5B9BD5] mb-6",children:[e.jsx(y,{className:"h-4 w-4 text-[#5B9BD5]"}),e.jsxs(j,{className:"text-[#E2E8FF]",children:[e.jsxs("span",{className:"font-semibold text-[#5B9BD5]",children:[r," of 3 free queries remaining"]})," - Try our AI tools risk-free!"]})]}),ge=ce,fe=ne,q=o.forwardRef(({className:s,...r},a)=>e.jsx(D,{ref:a,className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r}));q.displayName=D.displayName;const T=o.forwardRef(({className:s,children:r,...a},m)=>e.jsxs(fe,{children:[e.jsx(q,{}),e.jsxs(I,{ref:m,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[r,e.jsxs(le,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));T.displayName=I.displayName;const U=({className:s,...r})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});U.displayName="DialogHeader";const _=o.forwardRef(({className:s,...r},a)=>e.jsx(k,{ref:a,className:w("text-lg font-semibold leading-none tracking-tight",s),...r}));_.displayName=k.displayName;const z=o.forwardRef(({className:s,...r},a)=>e.jsx(C,{ref:a,className:w("text-sm text-muted-foreground",s),...r}));z.displayName=C.displayName;const pe=({isOpen:s,onOptIn:r})=>{const[a,m]=o.useState(""),[n,u]=o.useState(""),[i,g]=o.useState(!1),[t,l]=o.useState(!1),{toast:c}=G(),f=async x=>{if(x.preventDefault(),!a.trim()||!n.trim()){c({title:"Missing information",description:"Please provide your first name and email.",variant:"destructive"});return}if(!i){c({title:"Privacy policy",description:"Please agree to the privacy policy to continue.",variant:"destructive"});return}l(!0);try{const{data:d}=await N.from("newsletter_subscribers").select("email").eq("email",n.toLowerCase().trim()).maybeSingle();if(!d){const{error:h}=await N.from("newsletter_subscribers").insert({email:n.toLowerCase().trim(),first_name:a.trim()});if(h)throw h;const{error:B}=await N.functions.invoke("send-welcome-email",{body:{firstName:a.trim(),email:n.toLowerCase().trim()}});B&&console.error("Failed to send welcome email:",B)}r(n.toLowerCase().trim(),a.trim()),c({title:"Welcome aboard! ðŸŽ‰",description:"You now have unlimited access to all our AI tools. Check your email for a welcome message!"}),m(""),u(""),g(!1)}catch(d){console.error("Opt-in error:",d),c({title:"Something went wrong",description:"Please try again or contact support if the issue persists.",variant:"destructive"})}finally{l(!1)}};return e.jsx(ge,{open:s,onOpenChange:()=>{},children:e.jsxs(T,{className:"sm:max-w-[500px] bg-[#151A22] border-[#1a202c]",children:[e.jsxs(U,{children:[e.jsx(_,{className:"text-2xl text-white",children:"Get Unlimited Access ðŸš€"}),e.jsx(z,{className:"text-[#E2E8FF]",children:"You've used your 3 free queries. Sign up now to continue using all our AI-powered RV technology tools with no limits!"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"firstName",className:"text-white",children:"First Name"}),e.jsx(S,{id:"firstName",type:"text",placeholder:"John",value:a,onChange:x=>m(x.target.value),className:"bg-[#131a2a] border-[#1a202c] text-white",disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"email",className:"text-white",children:"Email"}),e.jsx(S,{id:"email",type:"email",placeholder:"john@example.com",value:n,onChange:x=>u(x.target.value),className:"bg-[#131a2a] border-[#1a202c] text-white",disabled:t})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(M,{id:"privacy",checked:i,onCheckedChange:x=>g(x),disabled:t,className:"mt-1"}),e.jsx("label",{htmlFor:"privacy",className:"text-sm text-[#E2E8FF] leading-relaxed cursor-pointer",children:"I agree to receive helpful RV technology tips and updates. You can unsubscribe anytime."})]}),e.jsx(E,{type:"submit",className:"w-full bg-[#5B9BD5] hover:bg-[#4B8FE3] text-white",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"mr-2 h-4 w-4 animate-spin"}),"Getting your access..."]}):"Get Unlimited Access"}),e.jsx("p",{className:"text-xs text-center text-[#898989]",children:"ðŸ”’ Your information is safe and will never be shared"})]})]})})},Re=()=>{V();const s=xe(),[r,a]=O.useState(!1);o.useEffect(()=>{window.scrollTo(0,0)},[]);const m=(n,u)=>{s.grantAccess(n,u),a(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:"AI Technology Readiness Assessment | RV Connectivity Tools"}),e.jsx("meta",{name:"description",content:"Get personalized RV technology recommendations based on your experience level and travel goals. Free AI-powered assessment tool."})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#080F1F] to-[#151A22] pt-24 pb-16",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(H,{items:[{label:"Tools",href:"/tools"},{label:"Readiness Assessment"}]})}),e.jsxs("div",{className:"relative w-full my-12",children:[e.jsx(Q,{...Y(me,"AI Technology Readiness Assessment","hero",!0),className:"w-full h-auto"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/60 to-black/80 z-10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:e.jsxs("div",{className:"text-center max-w-5xl px-6",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 image-overlay-headline",children:"AI Technology Readiness Assessment"}),e.jsx("p",{className:"text-lg md:text-xl text-white/80 max-w-4xl mx-auto image-overlay-headline",children:"Get personalized technology recommendations based on your experience and goals"})]})})]}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(he,{queriesUsed:s.queriesUsed,queriesRemaining:s.queriesRemaining,hasAccess:s.hasAccess})}),e.jsx(ue,{toolAccess:s,onShowOptIn:()=>a(!0)}),e.jsx("div",{className:"max-w-6xl mx-auto mt-8",children:e.jsx($,{})}),e.jsx("div",{className:"max-w-6xl mx-auto mt-12",children:e.jsx(K,{tools:J,currentToolId:"readiness-assessment"})})]})]}),e.jsx(pe,{isOpen:r,onOptIn:m})]})};export{Re as default};
